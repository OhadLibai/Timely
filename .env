# .env - ENHANCED Configuration for ML Demo with Improved Security

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
POSTGRES_USER=timely_user
POSTGRES_PASSWORD=timely_password_2024_dev
POSTGRES_DB=timely_db
DB_HOST=db
DB_PORT=5432

# ============================================================================
# JWT AUTHENTICATION - ENHANCED SECURITY
# ============================================================================
# IMPORTANT: Change these in production! Use at least 32 characters
JWT_SECRET=b8f9c2d4e7a1f3b6d8e2c5a9f1b4d7e0a3c6b9f2e5d8a1c4f7b0e3d6a9c2f5b8e1d4a7c0f3b6
JWT_REFRESH_SECRET=a7c0f3b6d9e2c5a8f1b4d7e0a3c6b9f2e5d8a1c4f7b0e3d6a9c2f5b8e1d4a7c0f3b6d9e2c5a8
JWT_ACCESS_TOKEN_EXPIRY=8h

# ============================================================================
# SERVICE URLS (Container Internal Communication)
# ============================================================================
# Frontend environment variables (prefixed with VITE_)
VITE_API_URL=http://localhost:5000/api

# Backend environment variables
ML_SERVICE_URL=http://ml-service:8000
FRONTEND_URL=http://localhost:3000

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
NODE_ENV=development

# ML Configuration
FEATURE_ENGINEERING=black_box
ARCHITECTURE=direct_database_access
BACKGROUND_JOBS=disabled
AUTO_BASKET_GENERATION=manual

# Demo Settings
DEMO_MODE=enabled
SEED_DEMO_USERS=true

# ============================================================================
# ENHANCED SECURITY SETTINGS
# ============================================================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS configuration
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Password requirements
MIN_PASSWORD_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
LOCK_TIME_MINUTES=15

# Session security
BCRYPT_ROUNDS=12

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
# Database
USE_DATABASE=true
DB_LOGGING=false
DB_SYNC=true
DB_POOL_MIN=2
DB_POOL_MAX=10

# Logging
LOG_LEVEL=info
LOG_TO_FILE=false
LOG_SQL_QUERIES=false

# Development features
ENABLE_API_DOCS=true
SHOW_STACK_TRACES=true

# ============================================================================
# PRODUCTION OVERRIDES (Uncomment for production)
# ============================================================================
# NODE_ENV=production
# JWT_ACCESS_TOKEN_EXPIRY=15m
# JWT_SECRET=generate-new-64-char-secret-for-production
# JWT_REFRESH_SECRET=generate-new-64-char-refresh-secret-for-production
# LOG_LEVEL=warn
# SHOW_STACK_TRACES=false
# BCRYPT_ROUNDS=14
# RATE_LIMIT_MAX_REQUESTS=50

# ============================================================================
# SECURITY NOTES:
# 1. Change all JWT secrets before production deployment
# 2. Use environment-specific .env files (.env.production, .env.staging)
# 3. Never commit actual secrets to version control
# 4. Consider using a secrets management service for production
# 5. Rotate JWT secrets regularly in production
# ============================================================================